### 🐋 内存管理
C++内存分为代码区和数据区(常量区、静态/全局存储区<两者在一块儿>、堆区、栈区)，代码区和常量区为只读，后几个为可读写  
**代码区**：存放可执行的机器指令  
**常量区**：存放常量，比如const关键字限定的常变量、字符串字面值  
**静态/全局存储区**：静态存储区和全局存储区是一起的，静态全局变量和全局变量的唯一区别的作用域，静态全局变量只能作用于所在的文件，全局变量可以通过extern关键字被其他文件使用  
**堆区**：程序员使用malloc函数创建的存储区，需要使用对应的delete函数删除，否则会内存泄漏  
**栈区**：存放局部变量，由程序自动创建和销毁
### 🐋 扩展和示例
#### 🦈静态局部变量与常量
**静态局部变量**：只有当其所在函数被执行，它才会被使用，并且只会初始化一次，后面调用时，都是使用前一次的值；与静态全局变量的区别只有作用域不同(全局/局部)，都是存在静态区  
**常量**：字符串常量，例如"abcdf"，存储在常量区，以下两种情况：  
  >1.`char* p="abcde"`,将指针变量p指向字符串  
  >2.`char pp[]="abcde"`，无论pp是全局变量(全局区)还是局部变量(栈区)，都开辟空间给pp，将字符串复制进去  
#### 🦈内存对齐
想要清楚C++程序占用多少内存，需要知道C++是如何进行内存管理的  
  >1.代码、全局变量、静态变量、常量称为固定部分，其内存消耗是不会随着代码运行而改变的  
  >2.栈上的函数形参、局部变量、*函数返回值*，堆上的程序员分配的内存称为可变部分，其内存消耗会随着代码运行而动态变化，内存泄漏通常为堆内存泄漏  
  >3.计算程序占用的内存大小，需要知道什么是内存对齐：CPU读取数据是以缓存行(cacheline)为单位读取的，一般cacheline大小为64字节，也就是说CPU一次会读取64字节的数据。  
<center>
非内存对齐的：  
| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
|----|----|----|----|----|----|----|----|----|
| char | int[0] | int[1] | int[2] | int[3] |  |  |  |

内存对齐的：  
| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
|----|----|----|----|----|----|----|----|----|
| char |  |  |  |  |int[0] | int[1] | int[2] | int[3] |  
</center>
`struct myStr{  
  char x1;  
  int x2;  
}`
假设cacheline大小是4字节，int的大小是4字节；CPU寻址从char开始;int[i]表示int型变量的第i个字节
>1.非对齐：第一次读取到 char、int[0]、int[1]、int[2]、第二次读取到int[3]、 、 、 、，然后将两次读取的内容合并才能得到完整的int  
>2.对齐：第一就可以读取到完整的int  
内存对齐虽然会多占内存，但是相对于速度提升来说，牺牲很小
